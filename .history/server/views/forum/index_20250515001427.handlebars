<div class="forum-container">
  <!-- Sidebar Navigation -->
  <div class="forum-sidebar">
    <div class="forum-sidebar-item">
      <a href="/forum" class="forum-sidebar-link active">
        <i class="fas fa-home"></i>
      </a>
      <span class="forum-sidebar-text">Forum Home</span>
    </div>
    <div class="forum-sidebar-item">
      <a href="/forum/category/general" class="forum-sidebar-link">
        <i class="fas fa-comments"></i>
      </a>
      <span class="forum-sidebar-text">General</span>
    </div>
    <div class="forum-sidebar-item">
      <a href="/forum/category/tech" class="forum-sidebar-link">
        <i class="fas fa-code"></i>
      </a>
      <span class="forum-sidebar-text">Tech</span>
    </div>
    <div class="forum-sidebar-item">
      <a href="/forum/category/creative" class="forum-sidebar-link">
        <i class="fas fa-palette"></i>
      </a>
      <span class="forum-sidebar-text">Creative</span>
    </div>
    <div class="forum-sidebar-item">
      <a href="/forum/category/meta" class="forum-sidebar-link">
        <i class="fas fa-cog"></i>
      </a>
      <span class="forum-sidebar-text">Meta</span>
    </div>
    {{#if isAuthenticated}}
    <div class="forum-sidebar-item">
      <a href="/forum/new" class="forum-sidebar-link">
        <i class="fas fa-plus"></i>
      </a>
      <span class="forum-sidebar-text">New Thread</span>
    </div>
    {{/if}}
  </div>

  <div class="forum-header">
    <h1 class="cyber-header glitch-text" data-text="Assembly">Assembly</h1>
    <p class="forum-description">Join the discussion in the Wirebase community <span class="terminal-cursor"></span></p>
  </div>

  <!-- Category Filter -->
  <div class="category-filter">
    <button class="category-filter-button active" data-category="all">All Categories</button>
    <button class="category-filter-button" data-category="general">General</button>
    <button class="category-filter-button" data-category="tech">Tech</button>
    <button class="category-filter-button" data-category="creative">Creative</button>
    <button class="category-filter-button" data-category="meta">Meta</button>
  </div>

  <div class="forum-categories">
    <div class="category-grid">
      <div class="category-card cyber-window">
        <div class="cyber-window-header">
          <span class="cyber-window-title">General Discussion</span>
        </div>
        <div class="cyber-window-content">
          <a href="/forum/category/general" class="category-link">
            <div class="category-icon">üí¨</div>
            <div class="category-info">
              <h3>General</h3>
              <p>Discuss anything related to Wirebase and the community</p>
            </div>
          </a>
        </div>
      </div>

      <div class="category-card cyber-window">
        <div class="cyber-window-header">
          <span class="cyber-window-title">Technical</span>
        </div>
        <div class="cyber-window-content">
          <a href="/forum/category/tech" class="category-link">
            <div class="category-icon">üîå</div>
            <div class="category-info">
              <h3>Tech</h3>
              <p>Technical discussions, code sharing, and troubleshooting</p>
            </div>
          </a>
        </div>
      </div>

      <div class="category-card cyber-window">
        <div class="cyber-window-header">
          <span class="cyber-window-title">Creative</span>
        </div>
        <div class="cyber-window-content">
          <a href="/forum/category/creative" class="category-link">
            <div class="category-icon">üé®</div>
            <div class="category-info">
              <h3>Creative</h3>
              <p>Share your art, music, writing, and other creative works</p>
            </div>
          </a>
        </div>
      </div>

      <div class="category-card cyber-window">
        <div class="cyber-window-header">
          <span class="cyber-window-title">Meta</span>
        </div>
        <div class="cyber-window-content">
          <a href="/forum/category/meta" class="category-link">
            <div class="category-icon">üîç</div>
            <div class="category-info">
              <h3>Meta</h3>
              <p>Discussions about Wirebase itself, suggestions, and feedback</p>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="forum-actions">
    {{#if isAuthenticated}}
      <a href="/forum/new" class="cyber-button">Create New Thread</a>
    {{else}}
      <a href="/users/login" class="cyber-button">Login to Post</a>
    {{/if}}
  </div>

  <div class="recent-threads cyber-window">
    <div class="cyber-window-header">
      <span class="cyber-window-title">Recent Threads</span>
    </div>
    <div class="cyber-window-content">
      <div class="thread-list">
        <!-- In a real app, this would be populated with actual threads -->
        <div class="thread-item">
          <div class="thread-title">
            <a href="/forum/thread/1">Welcome to the Wirebase Assembly</a>
          </div>
          <div class="thread-meta">
            <span class="thread-author">system_admin</span>
            <span class="thread-date">2 days ago</span>
            <span class="thread-category">General</span>
            <span class="thread-replies">5 replies</span>
          </div>
        </div>

        <div class="thread-item">
          <div class="thread-title">
            <a href="/forum/thread/2">Technical FAQ and Resources</a>
          </div>
          <div class="thread-meta">
            <span class="thread-author">tech_support</span>
            <span class="thread-date">1 day ago</span>
            <span class="thread-category">Tech</span>
            <span class="thread-replies">3 replies</span>
          </div>
        </div>

        <div class="thread-item">
          <div class="thread-title">
            <a href="/forum/thread/3">Share Your Wirebase Profile Designs</a>
          </div>
          <div class="thread-meta">
            <span class="thread-author">design_guru</span>
            <span class="thread-date">12 hours ago</span>
            <span class="thread-category">Creative</span>
            <span class="thread-replies">7 replies</span>
          </div>
        </div>

        <div class="thread-item">
          <div class="thread-title">
            <a href="/forum/thread/4">Feature Request: Enhanced Terminal Mode</a>
          </div>
          <div class="thread-meta">
            <span class="thread-author">power_user</span>
            <span class="thread-date">5 hours ago</span>
            <span class="thread-category">Meta</span>
            <span class="thread-replies">2 replies</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize glitch effect on headers
    const headers = document.querySelectorAll('.glitch-text');
    headers.forEach(header => {
      const text = header.textContent;
      header.setAttribute('data-text', text);
    });

    // Category filter functionality
    const filterButtons = document.querySelectorAll('.category-filter-button');
    const threadItems = document.querySelectorAll('.thread-item');

    filterButtons.forEach(button => {
      button.addEventListener('click', function() {
        // Remove active class from all buttons
        filterButtons.forEach(btn => btn.classList.remove('active'));

        // Add active class to clicked button
        this.classList.add('active');

        const category = this.getAttribute('data-category');

        // Filter threads
        threadItems.forEach(item => {
          const threadCategory = item.querySelector('.thread-category').textContent.toLowerCase();

          if (category === 'all' || threadCategory === category) {
            item.style.display = 'flex';
          } else {
            item.style.display = 'none';
          }
        });
      });
    });
  });
</script>

<!-- Link to the new forum CSS file -->
<link rel="stylesheet" href="/css/forum.css">